import{j as e,L as M,r as d,D as V,E as D,G as O,H as W,u as j,e as g,f as v,g as y,h as N,i as b,k,B as P}from"./index-B-yqNhxt.js";import{m as F}from"./proxy-DkOErG3r.js";import{S,P as B,A,a as E,b as I}from"./SliderNext-DBa-dpXv.js";import{A as R}from"./ArticleSkeleton-BjvzYWf-.js";import{S as z,A as C,N as $,M as T,K as L}from"./pagination-DNvFleiO.js";const H="/assets/image1-wMekXagt.png",K="/assets/image2-CA2BHh-j.png",_="/assets/image3-BoLeqXPI.png",q="/assets/image-BeGHvcrz.png",G=[q,H,K,_],X=["نوشیدنی","پیش غذا","دسر","غذا اصلی"],Q=({img:a,description:t,index:r,isMobile:l})=>e.jsxs(F.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:r*.2},viewport:{once:!0},className:`relative ${l?"mb-18 flex h-[130px] w-[140px]":"flex h-[220px] w-[270px]"} flex-col items-center justify-center rounded-lg bg-[#417F56] shadow-xl`,children:[e.jsx("img",{src:a,alt:`Food item ${r+1}`,className:`absolute left-1/2 z-20 -translate-x-1/2 transform object-cover transition-all duration-300 ${l?r===0?"-top-25 w-[140px]":"-top-15 w-[140px]":r===0?"-top-40 w-[260px]":"-top-25 w-[260px]"}`}),e.jsx("div",{className:`absolute -bottom-6 ${l?"h-[48px] w-[120px] text-[16px]":"h-[48px] w-[180px] text-[20px]"} rounded-[4px] bg-[#F9F9F9] p-[8px] text-center font-semibold text-gray-700 shadow-md`,children:t})]}),U=({images:a,descriptions:t,isMobile:r})=>e.jsx("div",{className:`grid  w-full justify-items-center ${r?"grid-cols-2 gap-6":"grid-cols-2 gap-y-32 sm:grid-cols-2 md:grid-cols-4"}`,children:a.slice(0,r?4:a.length).map((l,i)=>e.jsx(M,{to:`/menu/${4-i}`,children:e.jsx(Q,{img:l,description:t[i],index:i,isMobile:r},i)},i))}),J=()=>{const[a,t]=d.useState(window.innerWidth<=640);return d.useEffect(()=>{const r=()=>{t(window.innerWidth<=640)};return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),e.jsx("div",{className:"relative my-10 flex items-center justify-center",children:e.jsxs("div",{className:"relative z-10 flex w-full flex-col items-center",children:[e.jsx("h1",{className:"mb-20 w-full text-center text-[20px] font-bold text-[rgba(53,53,53,1)] sm:mt-0 sm:mb-31 sm:border-b-amber-500 sm:text-3xl",children:"منوی رستوران"}),e.jsx(U,{images:G,descriptions:X,isMobile:a})]})})},Y=[{name:"McDonald's",font:"font-extrabold text-stone-200 text-xl sm:text-2xl lg:text-3xl font-sans"},{name:"KFC",font:"font-black text-stone-200 text-xl sm:text-2xl lg:text-3xl font-serif"},{name:"Burger King",font:"font-semibold text-stone-200 text-xl sm:text-2xl lg:text-2xl font-mono"},{name:"Domino's Pizza",font:"font-bold text-stone-200 text-base sm:text-lg lg:text-2xl font-sans"},{name:"Subway",font:"font-medium text-stone-200 text-xl sm:text-2xl lg:text-3xl font-serif"}],Z=()=>e.jsxs("div",{className:"mx-auto flex w-full flex-col rounded-2xl ",children:[e.jsxs("p",{className:"mx-auto rounded-lg p-4 text-center text-sm font-semibold text-black  sm:text-xl md:mb-4 ",children:["سراسری 5+ هزار",e.jsx("span",{className:"text-[#FFB936]",children:" حامیان مالی"})," با ما خوشحال هستند"]}),e.jsx("div",{className:"mx-auto mt-5 items-center justify-evenly  rounded-2xl bg-[#74aa86] p-4 flex flex-wrap ",children:Y.map((a,t)=>e.jsx(F.div,{className:`px-2 py-2 text-nowrap text-center ${t>3?"hidden sm:block":""}`,whileHover:{scale:1.1,boxShadow:"0px 4px 20px rgba(0, 0, 0, 0.2)",borderRadius:"12px",transition:{duration:.3},cursor:"pointer"},children:e.jsx("p",{className:`${a.font}`,children:a.name})},t))})]}),ee="/assets/food-shape-2-C1Fh2fgg.png",se=[{title:"غذای فوق العاده با کیفیت",description:"تیمی متشکل از رویاپردازان و انجام دهندگان موسیقی و هنر تعاملی منحصر به فرد را ایجاد می کنند",icon:e.jsx(V,{className:"text-5xl font-semibold text-[#FFB936]"})},{title:"دستور العمل های اصلی",description:"تیمی متشکل از رویاپردازان و انجام دهندگان موسیقی و هنر تعاملی منحصر به فرد را ایجاد می کنند",icon:e.jsx(D,{className:"text-5xl font-semibold text-[#FFB936]"})},{title:"تحویل سریع و سریع و آسان",description:"تیمی متشکل از رویاپردازان و انجام دهندگان موسیقی و هنر تعاملی منحصر به فرد را ایجاد می کنند",icon:e.jsx(O,{className:"text-5xl font-semibold text-[#FFB936]"})},{title:"100٪ غذاهای تازه طبیعی",description:"تیمی متشکل از رویاپردازان و انجام دهندگان موسیقی و هنر تعاملی منحصر به فرد را ایجاد می کنند",icon:e.jsx(W,{className:"text-5xl font-semibold text-[#FFB936]"})}];function te(){return e.jsx("div",{className:"mx-auto my-5 w-full bg-amber-100 rounded-2xl bg-cover bg-center p-4",style:{backgroundImage:`url(${ee})`,backgroundBlendMode:"lighten",backgroundColor:"rgb(40, 36, 36)"},children:e.jsx("div",{className:"mx-auto grid w-full max-w-6xl grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:se.map((a,t)=>e.jsxs("div",{className:"flex flex-col text-center items-start rounded-xl p-4  backdrop-blur-md",children:[e.jsx("div",{className:"mb-2 self-center",children:a.icon}),e.jsx("h3",{className:"text-center w-full text-base font-semibold text-white mb-3 sm:text-lg md:text-xl",children:a.title}),e.jsx("p",{className:"text-center text-sm leading-relaxed text-stone-100",children:a.description})]},t))})})}const ae=({data:a,isLoading:t})=>{const r=j(),[l,i]=d.useState(window.innerWidth>=1300?5:4),u=g.get("accessToken")||"",[x,c]=d.useState(!1),[h,m]=d.useState("");d.useEffect(()=>{const s=()=>{window.innerWidth<640?i(2):window.innerWidth<1300?i(4):i(5)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const f=Array.from({length:l}),o=v({mutationFn:s=>fetch(`https://tarkhine-app.onrender.com/api/v1/client/likes/${s}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},method:"POST"}).then(n=>n.json())});d.useEffect(()=>{var s,n;((s=o.data)==null?void 0:s.message)=="Product liked !"?(m("محصول به علاقه‌مندی‌ها اضافه شد"),c(!0)):((n=o.data)==null?void 0:n.message)=="product disliked !"?(m("محصول از علاقه مندی ها برداشته شد"),c(!0)):o.isError&&(m("خطا در افزودن محصول به علاقه‌مندی‌ها"),c(!0))},[o.isSuccess,o.isError]);const p=(s,n)=>{n!=="clickaway"&&c(!1)};console.log(o.data);const w={320:{slidesPerView:2,spaceBetween:10},640:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:4,spaceBetween:15},1300:{slidesPerView:5,spaceBetween:20}};return e.jsxs("section",{className:"mx-auto my-10 flex w-full flex-col items-center justify-center",children:[e.jsx(z,{open:x,autoHideDuration:3e3,onClose:p,anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(C,{onClose:p,severity:"success",sx:{width:"100%",bgcolor:"#417F56",color:"white"},children:h})}),e.jsxs("div",{className:"mx-auto w-full rounded-2xl",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("h1",{className:"mr-8 mb-4 border-b-1 border-[#417F56] py-2 text-right text-2xl font-semibold text-[#313231]",children:"غذای ایرانی"})}),e.jsx("div",{className:"relative mx-auto w-full max-w-full",children:t?e.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:f.map((s,n)=>e.jsxs("div",{className:"animate-pulse overflow-hidden rounded-lg border border-gray-200 bg-[#f0f0f0] shadow-lg",children:[e.jsx("div",{className:"h-60 w-full bg-gray-300"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-2 h-4 w-3/4 rounded bg-gray-300"}),e.jsx("div",{className:"mb-2 h-3 w-1/2 rounded bg-gray-300"}),e.jsx("div",{className:"mt-4 h-8 w-full rounded bg-gray-300"})]})]},n))}):e.jsxs("div",{className:"slider-container",children:[e.jsx(S,{modules:[$,B,T,L,A],spaceBetween:20,slidesPerView:l,navigation:!0,pagination:{clickable:!0,el:".swiper-pagination"},mousewheel:!0,keyboard:!0,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:w,className:"mySwiper",children:a.map(s=>e.jsx(E,{children:e.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-md transition-transform duration-300 hover:scale-105",children:[e.jsx("img",{className:"h-55 w-full rounded-t-xl object-cover",src:`${s.image_url}`,alt:s.name}),e.jsxs("div",{className:"flex flex-col justify-between gap-2 p-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"flex space-x-1"}),e.jsx("div",{className:"text-right text-xs font-semibold",children:s.name})]}),e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsxs("button",{onClick:()=>o.mutate(s.id),className:"flex items-center gap-1 rounded-md border border-gray-300 px-2 py-0.5 text-xs text-gray-600 transition hover:bg-gray-100",children:["❤️ ",e.jsx("span",{children:"علاقه‌مندی"})]}),e.jsx("button",{onClick:()=>{r(N(s)),m("محصول با موفقیت به سبد خرید اضافه شد!"),c(!0)},className:"group flex-1 cursor-pointer rounded-md border border-transparent bg-[#417F56] px-4 py-0.5 text-xs text-white transition-all duration-300 hover:border-[#417F56] hover:bg-white",children:e.jsx(y,{className:"mx-auto text-xl transition-all duration-300 group-hover:text-[#417F56]"})})]})]})]})},s.id))}),e.jsx("div",{className:"swiper-pagination mt-8"})]})})]})]})},re=({data:a,isLoading:t})=>{const r=j(),[l,i]=d.useState(window.innerWidth>=1300?5:4),u=g.get("accessToken")||"",[x,c]=d.useState(!1),[h,m]=d.useState("");d.useEffect(()=>{const s=()=>{window.innerWidth<640?i(2):window.innerWidth<1300?i(4):i(5)};return window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)},[]);const f=Array.from({length:l}),o=v({mutationFn:s=>fetch(`https://tarkhine-app.onrender.com/api/v1/client/likes/${s}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},method:"POST"}).then(n=>n.json())});d.useEffect(()=>{var s,n;((s=o.data)==null?void 0:s.message)=="Product liked !"?(m("محصول به علاقه‌مندی‌ها اضافه شد"),c(!0)):((n=o.data)==null?void 0:n.message)=="product disliked !"?(m("محصول از علاقه مندی ها برداشته شد"),c(!0)):o.isError&&(m("خطا در افزودن محصول به علاقه‌مندی‌ها"),c(!0))},[o.isSuccess,o.isError]);const p=(s,n)=>{n!=="clickaway"&&c(!1)};console.log(o.data);const w={320:{slidesPerView:2,spaceBetween:10},640:{slidesPerView:3,spaceBetween:15},768:{slidesPerView:4,spaceBetween:15},1300:{slidesPerView:5,spaceBetween:20}};return e.jsxs("section",{className:"mx-auto my-10 flex w-full flex-col items-center justify-center",children:[e.jsx(z,{open:x,autoHideDuration:3e3,onClose:p,anchorOrigin:{vertical:"top",horizontal:"center"},children:e.jsx(C,{onClose:p,severity:"success",sx:{width:"100%",bgcolor:"#417F56",color:"white"},children:h})}),e.jsxs("div",{className:"mx-auto w-full rounded-2xl",children:[e.jsx("div",{className:"flex justify-end",children:e.jsx("h1",{className:"mr-8 mb-4 border-b-1 border-[#417F56] py-2 text-right text-2xl font-semibold text-[#313231]",children:"غذای ایرانی"})}),e.jsx("div",{className:"relative mx-auto w-full max-w-full",children:t?e.jsx("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5",children:f.map((s,n)=>e.jsxs("div",{className:"animate-pulse overflow-hidden rounded-lg border border-gray-200 bg-[#f0f0f0] shadow-lg",children:[e.jsx("div",{className:"h-60 w-full bg-gray-300"}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"mb-2 h-4 w-3/4 rounded bg-gray-300"}),e.jsx("div",{className:"mb-2 h-3 w-1/2 rounded bg-gray-300"}),e.jsx("div",{className:"mt-4 h-8 w-full rounded bg-gray-300"})]})]},n))}):e.jsxs("div",{className:"slider-container",children:[e.jsx(S,{modules:[$,B,T,L,A],spaceBetween:20,slidesPerView:l,navigation:!0,pagination:{clickable:!0,el:".swiper-pagination"},mousewheel:!0,keyboard:!0,loop:!0,autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:w,className:"mySwiper",children:a.map(s=>e.jsx(E,{children:e.jsxs("div",{className:"overflow-hidden rounded-xl border border-gray-200 bg-white shadow-md transition-transform duration-300 hover:scale-105",children:[e.jsx("img",{className:"h-55 w-full rounded-t-xl object-cover",src:`${s.image_url}`,alt:s.name}),e.jsxs("div",{className:"flex flex-col justify-between gap-2 p-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{className:"flex space-x-1"}),e.jsx("div",{className:"text-right text-xs font-semibold",children:s.name})]}),e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsxs("button",{onClick:()=>o.mutate(s.id),className:"flex items-center gap-1 rounded-md border border-gray-300 px-2 py-0.5 text-xs text-gray-600 transition hover:bg-gray-100",children:["❤️ ",e.jsx("span",{children:"علاقه‌مندی"})]}),e.jsx("button",{onClick:()=>{r(N(s)),m("محصول با موفقیت به سبد خرید اضافه شد!"),c(!0)},className:"group flex-1 cursor-pointer rounded-md border border-transparent bg-[#417F56] px-4 py-0.5 text-xs text-white transition-all duration-300 hover:border-[#417F56] hover:bg-white",children:e.jsx(y,{className:"mx-auto text-xl transition-all duration-300 group-hover:text-[#417F56]"})})]})]})]})},s.id))}),e.jsx("div",{className:"swiper-pagination mt-8"})]})})]})]})},ne=async()=>{const a=g.get("accessToken");try{const t=await k.get(`${P}/client/products/5?page=1`,{method:"GET",headers:{Accept:"*/*",Authorization:`Bearer ${a}`}});return console.log(t.data.products),t.data.products}catch(t){throw console.error(t),new Error("Failed to fetch products")}},ie=async()=>{const a=g.get("accessToken");try{const t=await k.get(`${P}/client/products/5?page=1`,{method:"GET",headers:{Accept:"*/*",Authorization:`Bearer ${a}`}});return console.log(t.data.products),t.data.products}catch(t){throw console.error(t),new Error("Failed to fetch products")}};function me(){const{data:a,isLoading:t}=b({queryKey:["fetchProductsmainpage"],queryFn:ne}),{data:r,isLoading:l}=b({queryKey:["fetchProductsmainpage2"],queryFn:ie}),i=(a==null?void 0:a.map(x=>({...x,TotalStars:x.rating*3})))??[],u=(r==null?void 0:r.map(x=>({...x,TotalStars:x.rating*3})))??[];return e.jsxs("div",{className:"flex flex-col",children:[e.jsx(I,{}),e.jsx(J,{}),e.jsx(Z,{}),e.jsx(ae,{data:i,isLoading:t}),e.jsx(te,{}),e.jsx(re,{data:u,isLoading:l}),e.jsx(R,{})]})}export{me as default};
