import{j as e,L as i,l as n,u as p,Z as m,_ as h,d as u,K as j,P as f,m as b}from"./index-0uP07PF7.js";import{P as g}from"./PaymentBreadcrumb-j_lzNUbj.js";import{b as x}from"./index-BuGOyvQu.js";const w="/assets/spiderweb-BHTfCQfC.svg",N=()=>e.jsxs("main",{className:"mx-auto my-6 flex h-[435px] max-w-[1224px] items-center justify-center rounded-xl border border-[#cbcbcb] md:my-12 md:h-[554px]",children:[e.jsxs("div",{className:"flex flex-col items-center gap-8",children:[e.jsx("h2",{className:"text-[16px] text-[#656565] lg:text-xl",children:"شما درحال حاضر هیچ سفارشی ثبت نکرده اید"}),e.jsxs(i,{className:"rounded-lg border border-green-800 px-7 py-2 text-[12px] font-semibold text-green-800 lg:text-[16px]",to:"/menu",children:["منوی رستوران"," "]})]}),e.jsx("img",{className:"absolute z-[-2] max-w-[70%]",src:w,alt:"web"})]}),v=({items:l})=>{const{total:a}=n(s=>s.cardReducer),{discount:r}=n(s=>s.cardReducer);console.log(r);const t=p(),{isAuthenticated:o}=m();return e.jsxs("main",{className:"mx-auto  text-[#353535] my-6 flex max-w-[1224px] flex-col gap-3 rounded-md border-zinc-400 items-center lg:flex-row-reverse  ",children:[e.jsx("div",{className:"max-h-[400px] self-start w-full space-y-3 overflow-y-auto rounded-xl border border-zinc-400 p-3 ",children:l.map(s=>{var c,d;return e.jsxs("div",{className:"border h-[150px] border-zinc-300 rounded-xl overflow-hidden flex flex-row-reverse ",children:[e.jsx("div",{className:"max-md:hidden w-[150px] bg-green-200 aspect-square ",children:e.jsx("img",{className:"w-full object-cover",src:`http://localhost:3000/${s.image_url}`,alt:s.name})}),e.jsxs("div",{className:"p-3 flex flex-col justify-between  w-full",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{className:"text-zinc-500 hover:text-green-700",onClick:()=>t(h(s)),children:e.jsx(x,{})}),e.jsx("h2",{children:s.name})]}),e.jsxs("div",{className:"flex max-md:hidden justify-between items-center",children:[s.coupon&&e.jsxs("div",{className:"mt-2 flex w-fit  text-red-800  text-[14px] ",children:[(c=s.coupon)==null?void 0:c.percent,"%",e.jsx("span",{className:"line-through ml-2 text-zinc-300",children:s.price})]}),e.jsx("p",{className:"text-[14px] text-right  w-full overflow-hidden",children:s.description})]}),e.jsx("div",{className:"flex flex-row-reverse justify-between",children:e.jsxs("div",{className:"text-[16px] items-center flex justify-between w-full",children:[e.jsxs("p",{className:"text-[14px] text-[#353535] sm:text-[18px]",children:[e.jsxs("span",{children:[s.coupon?+s.price-+s.price*(((d=s.coupon)==null?void 0:d.percent)/100):s.price," "]}),e.jsx("span",{children:"تومان"})]}),e.jsxs("div",{className:" flex gap-2 ",children:[e.jsxs("div",{className:"space-x-2 bg-green-100 rounded-md  max-md:mt-2",children:[e.jsx("button",{className:"p-1 hover:bg-green-300",onClick:()=>t(u(s)),children:"+"}),e.jsx("span",{children:s.qty}),e.jsx("button",{className:"p-1 hover:bg-green-300",onClick:()=>t(j(s)),children:"-"})]}),e.jsx("p",{className:"max-md:hidden",children:"starplace"})]})]})})]})]},s.id)})}),e.jsxs("div",{className:"divide h-fit min-h-[330px] w-full divide-y-2 divide-zinc-300 rounded-xl border px-4 py-3 max-sm:border-t border-zinc-400 sm:py-5 md:text-[16px] lg:max-w-[500px] lg:self-start",children:[e.jsxs("div",{className:"flex w-full justify-between py-3",children:[e.jsx("button",{className:"text-zinc-500 hover:text-green-700",onClick:()=>t(f()),children:e.jsx(x,{})}),e.jsxs("span",{children:["سبد خرید (",l.length,")"]})]}),e.jsxs("div",{className:"flex w-full justify-between py-3",children:[e.jsxs("span",{children:[r.toLocaleString(),"تومان"]}),e.jsx("span",{children:"تخفیف محصولات"})]}),e.jsxs("div",{className:"flex w-full flex-wrap justify-between py-3",children:[e.jsx("span",{children:"0 تومان"}),e.jsx("span",{children:"هزینه ارسال"}),e.jsx("span",{className:"w-full text-right text-[12px]",children:"هزینه ارسال در ادامه بر اساس آدرس، زمان و نحوه ارسال انتخابی شما محاسبه و به این مبلغ اضافه خواهد شد."})]}),e.jsxs("div",{className:"flex w-full flex-wrap justify-between py-3",children:[e.jsxs("span",{children:["تومان ",a.toLocaleString()]}),e.jsx("span",{children:"مبلغ قابل پرداخت"}),o?e.jsx("button",{className:"mt-2 w-full rounded-lg bg-amber-200 p-2",children:"ورود"}):e.jsxs(i,{to:"/cart/completion-info",className:"mt-2 w-full rounded-lg bg-green-700 p-2 text-center text-white transition-all ease-in hover:bg-green-700/80",children:["تکمیل اطلاعات"," "]})]})]})]})};function k(){const l=n(r=>r.cardReducer.products),{pathname:a}=b();return console.log("in shoping",l),e.jsxs(e.Fragment,{children:[e.jsx(g,{pathName:a}),l.length>0?e.jsx(v,{items:l}):e.jsx(N,{})]})}export{k as default};
